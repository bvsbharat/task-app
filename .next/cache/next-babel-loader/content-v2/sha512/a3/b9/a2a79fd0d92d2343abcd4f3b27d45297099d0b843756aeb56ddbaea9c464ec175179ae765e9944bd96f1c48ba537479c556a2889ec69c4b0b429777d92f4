{"ast":null,"code":"import axios from \"axios\";\nimport { mapData } from \"../utils\";\nexport const SET_DATA = \"SET_DATA\";\nexport const FAILURE = \"FAILURE\";\nexport const TOGGLE_TEMP = \"TOGGLE_TEMP\";\nconst key = \"82bc0d2d2aa2db497547b0da40fb0dcf\"; //process.env.REACT_APP_API_KEY;\n\nconst lang = \"en\";\nexport const getData = options => async dispatch => {\n  const {\n    unit,\n    lang,\n    query\n  } = options;\n  let params = {\n    appid: key,\n    lang,\n    units: unit,\n    lat: 11,\n    lon: 11\n  };\n  const geoCode = `http://api.openweathermap.org/geo/1.0/direct?q=${query}&&limit=1&appid=${key}`;\n  const forecast = \"//api.openweathermap.org/data/2.5/onecall\";\n\n  try {\n    const geocode = await axios.get(geoCode);\n    const [geoData] = geocode.data;\n    params.lat = geoData.lat;\n    params.lon = geoData.lon;\n    const forecastResponse = await axios.get(forecast, {\n      params\n    });\n    const payload = await mapData(forecastResponse.data.daily, forecastResponse.data.current, geoData, lang);\n    dispatch({\n      type: SET_DATA,\n      payload: payload\n    });\n  } catch (error) {\n    dispatch({\n      type: FAILURE,\n      payload: true\n    });\n  }\n};\nexport const toggleTemp = options => async dispatch => {\n  const {\n    unit,\n    lang,\n    key,\n    query,\n    unitType\n  } = options;\n  let params = {\n    appid: key,\n    lang,\n    units: unit,\n    lat: 11,\n    lon: 11\n  };\n  const geoCode = `http://api.openweathermap.org/geo/1.0/direct?q=${query}&&limit=1&appid=${key}`;\n  const forecast = \"//api.openweathermap.org/data/2.5/onecall\";\n\n  try {\n    const geocode = await axios.get(geoCode);\n    const [geoData] = geocode.data;\n    params.lat = geoData.lat;\n    params.lon = geoData.lon;\n    const forecastResponse = await axios.get(forecast, {\n      params\n    });\n    const data = await mapData(forecastResponse.data.daily, forecastResponse.data.current, geoData, lang);\n    dispatch({\n      type: TOGGLE_TEMP,\n      payload: {\n        data,\n        unitType\n      }\n    });\n  } catch (error) {\n    dispatch({\n      type: FAILURE,\n      payload: true\n    });\n  }\n}; // export const toggleTemp = (payload) => ({\n//   type: TOGGLE_TEMP,\n//   payload: payload,\n// });","map":{"version":3,"sources":["/Users/bbhavnasi/Desktop/ReactJS-Apps/App1/nextjs-blog/src/redux/action.js"],"names":["axios","mapData","SET_DATA","FAILURE","TOGGLE_TEMP","key","lang","getData","options","dispatch","unit","query","params","appid","units","lat","lon","geoCode","forecast","geocode","get","geoData","data","forecastResponse","payload","daily","current","type","error","toggleTemp","unitType"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { mapData } from \"../utils\";\n\nexport const SET_DATA = \"SET_DATA\";\nexport const FAILURE = \"FAILURE\";\nexport const TOGGLE_TEMP = \"TOGGLE_TEMP\";\n\nconst key = \"82bc0d2d2aa2db497547b0da40fb0dcf\"; //process.env.REACT_APP_API_KEY;\nconst lang = \"en\";\n\nexport const getData = (options) => async (dispatch) => {\n  const { unit, lang, query } = options;\n  let params = {\n    appid: key,\n    lang,\n    units: unit,\n    lat: 11,\n    lon: 11,\n  };\n\n  const geoCode = `http://api.openweathermap.org/geo/1.0/direct?q=${query}&&limit=1&appid=${key}`;\n  const forecast = \"//api.openweathermap.org/data/2.5/onecall\";\n\n  try {\n    const geocode = await axios.get(geoCode);\n    const [geoData] = geocode.data;\n    params.lat = geoData.lat;\n    params.lon = geoData.lon;\n    const forecastResponse = await axios.get(forecast, { params });\n    const payload = await mapData(\n      forecastResponse.data.daily,\n      forecastResponse.data.current,\n      geoData,\n      lang\n    );\n\n    dispatch({\n      type: SET_DATA,\n      payload: payload,\n    });\n  } catch (error) {\n    dispatch({ type: FAILURE, payload: true });\n  }\n};\n\nexport const toggleTemp = (options) => async (dispatch) => {\n  const { unit, lang, key, query, unitType } = options;\n  let params = {\n    appid: key,\n    lang,\n    units: unit,\n    lat: 11,\n    lon: 11,\n  };\n\n  const geoCode = `http://api.openweathermap.org/geo/1.0/direct?q=${query}&&limit=1&appid=${key}`;\n  const forecast = \"//api.openweathermap.org/data/2.5/onecall\";\n\n  try {\n    const geocode = await axios.get(geoCode);\n    const [geoData] = geocode.data;\n    params.lat = geoData.lat;\n    params.lon = geoData.lon;\n    const forecastResponse = await axios.get(forecast, { params });\n    const data = await mapData(\n      forecastResponse.data.daily,\n      forecastResponse.data.current,\n      geoData,\n      lang\n    );\n\n    dispatch({\n      type: TOGGLE_TEMP,\n      payload: { data, unitType },\n    });\n  } catch (error) {\n    dispatch({ type: FAILURE, payload: true });\n  }\n};\n\n// export const toggleTemp = (payload) => ({\n//   type: TOGGLE_TEMP,\n//   payload: payload,\n// });\n"]},"metadata":{},"sourceType":"module"}