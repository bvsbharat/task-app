{"ast":null,"code":"export const SET_DATA = \"SET_DATA\";\nexport const FAILURE = \"FAILURE\";\nimport axios from \"axios\";\nimport { mapData } from \"../utils\";\nexport const getData = options => async dispatch => {\n  console.log(\"trest\");\n  const endpoint = \"//api.openweathermap.org/data/2.5/onecall\";\n  const {\n    unit,\n    lang,\n    key,\n    query\n  } = options;\n  const params = {\n    appid: key,\n    lang,\n    units: unit,\n    q: query\n  };\n  const weather = `https://api.openweathermap.org/data/2.5/weather?q=${value}&APPID=${APIkey}&units=metric`;\n  const forecast = `https://api.openweathermap.org/data/2.5/forecast?q=${value}&APPID=${APIkey}&units=metric`;\n  const axiosRequest1 = axios.get(weather, {\n    params\n  });\n  const axiosRequest2 = axios.get(forecast, {\n    params\n  });\n\n  try {\n    const forecastResponse = await axios.all([axiosRequest1, axiosRequest2]);\n    console.log(forecastResponse);\n    const payload = mapData(forecastResponse.data[0], forecastResponse.data[1], lang);\n    dispatch({\n      type: SET_DATA,\n      payload\n    });\n  } catch (error) {\n    console.error(error.message);\n    dispatch({\n      type: FAILURE,\n      payload: {\n        error: error.message || error\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/bbhavnasi/Desktop/ReactJS-Apps/App1/nextjs-blog/src/redux/action.js"],"names":["SET_DATA","FAILURE","axios","mapData","getData","options","dispatch","console","log","endpoint","unit","lang","key","query","params","appid","units","q","weather","value","APIkey","forecast","axiosRequest1","get","axiosRequest2","forecastResponse","all","payload","data","type","error","message"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,OAAO,GAAG,SAAhB;AACP,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,UAAxB;AAEA,OAAO,MAAMC,OAAO,GAAIC,OAAD,IAAa,MAAOC,QAAP,IAAoB;AACtDC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,QAAMC,QAAQ,GAAG,2CAAjB;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,GAAd;AAAmBC,IAAAA;AAAnB,MAA6BR,OAAnC;AACA,QAAMS,MAAM,GAAG;AACbC,IAAAA,KAAK,EAAEH,GADM;AAEbD,IAAAA,IAFa;AAGbK,IAAAA,KAAK,EAAEN,IAHM;AAIbO,IAAAA,CAAC,EAAEJ;AAJU,GAAf;AAOA,QAAMK,OAAO,GAAI,qDAAoDC,KAAM,UAASC,MAAO,eAA3F;AACA,QAAMC,QAAQ,GAAI,sDAAqDF,KAAM,UAASC,MAAO,eAA7F;AAEA,QAAME,aAAa,GAAGpB,KAAK,CAACqB,GAAN,CAAUL,OAAV,EAAmB;AAAEJ,IAAAA;AAAF,GAAnB,CAAtB;AACA,QAAMU,aAAa,GAAGtB,KAAK,CAACqB,GAAN,CAAUF,QAAV,EAAoB;AAAEP,IAAAA;AAAF,GAApB,CAAtB;;AAEA,MAAI;AACF,UAAMW,gBAAgB,GAAG,MAAMvB,KAAK,CAACwB,GAAN,CAAU,CAACJ,aAAD,EAAgBE,aAAhB,CAAV,CAA/B;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAYiB,gBAAZ;AACA,UAAME,OAAO,GAAGxB,OAAO,CACrBsB,gBAAgB,CAACG,IAAjB,CAAsB,CAAtB,CADqB,EAErBH,gBAAgB,CAACG,IAAjB,CAAsB,CAAtB,CAFqB,EAGrBjB,IAHqB,CAAvB;AAMAL,IAAAA,QAAQ,CAAC;AACPuB,MAAAA,IAAI,EAAE7B,QADC;AAEP2B,MAAAA;AAFO,KAAD,CAAR;AAID,GAbD,CAaE,OAAOG,KAAP,EAAc;AACdvB,IAAAA,OAAO,CAACuB,KAAR,CAAcA,KAAK,CAACC,OAApB;AACAzB,IAAAA,QAAQ,CAAC;AAAEuB,MAAAA,IAAI,EAAE5B,OAAR;AAAiB0B,MAAAA,OAAO,EAAE;AAAEG,QAAAA,KAAK,EAAEA,KAAK,CAACC,OAAN,IAAiBD;AAA1B;AAA1B,KAAD,CAAR;AACD;AACF,CAnCM","sourcesContent":["export const SET_DATA = \"SET_DATA\";\nexport const FAILURE = \"FAILURE\";\nimport axios from \"axios\";\nimport { mapData } from \"../utils\";\n\nexport const getData = (options) => async (dispatch) => {\n  console.log(\"trest\");\n  const endpoint = \"//api.openweathermap.org/data/2.5/onecall\";\n\n  const { unit, lang, key, query } = options;\n  const params = {\n    appid: key,\n    lang,\n    units: unit,\n    q: query,\n  };\n\n  const weather = `https://api.openweathermap.org/data/2.5/weather?q=${value}&APPID=${APIkey}&units=metric`;\n  const forecast = `https://api.openweathermap.org/data/2.5/forecast?q=${value}&APPID=${APIkey}&units=metric`;\n\n  const axiosRequest1 = axios.get(weather, { params });\n  const axiosRequest2 = axios.get(forecast, { params });\n\n  try {\n    const forecastResponse = await axios.all([axiosRequest1, axiosRequest2]);\n    console.log(forecastResponse);\n    const payload = mapData(\n      forecastResponse.data[0],\n      forecastResponse.data[1],\n      lang\n    );\n\n    dispatch({\n      type: SET_DATA,\n      payload,\n    });\n  } catch (error) {\n    console.error(error.message);\n    dispatch({ type: FAILURE, payload: { error: error.message || error } });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}