{"ast":null,"code":"export const SET_DATA = \"SET_DATA\";\nexport const FAILURE = \"FAILURE\";\nexport const getData = options => async dispatch => {\n  const endpoint = \"//api.openweathermap.org/data/2.5/onecall\";\n  const {\n    unit,\n    lang,\n    key,\n    query\n  } = options;\n  const params = {\n    appid: key,\n    lang,\n    units: unit,\n    query\n  };\n\n  try {\n    const forecastResponse = await axios.get(endpoint, {\n      params\n    });\n    const payload = mapData(forecastResponse.data.daily, forecastResponse.data.current, lang);\n    dispatch({\n      type: SET_DATA,\n      payload\n    });\n  } catch (error) {\n    console.error(error.message);\n    dispatch({\n      type: FAILURE,\n      payload: {\n        error: error.message || error\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/bbhavnasi/Desktop/ReactJS-Apps/App1/nextjs-blog/src/redux/action.js"],"names":["SET_DATA","FAILURE","getData","options","dispatch","endpoint","unit","lang","key","query","params","appid","units","forecastResponse","axios","get","payload","mapData","data","daily","current","type","error","console","message"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,OAAO,GAAG,SAAhB;AAEP,OAAO,MAAMC,OAAO,GAAIC,OAAD,IAAa,MAAOC,QAAP,IAAoB;AACtD,QAAMC,QAAQ,GAAG,2CAAjB;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,GAAd;AAAmBC,IAAAA;AAAnB,MAA6BN,OAAnC;AACA,QAAMO,MAAM,GAAG;AACbC,IAAAA,KAAK,EAAEH,GADM;AAEbD,IAAAA,IAFa;AAGbK,IAAAA,KAAK,EAAEN,IAHM;AAIbG,IAAAA;AAJa,GAAf;;AAOA,MAAI;AACF,UAAMI,gBAAgB,GAAG,MAAMC,KAAK,CAACC,GAAN,CAAUV,QAAV,EAAoB;AAAEK,MAAAA;AAAF,KAApB,CAA/B;AACA,UAAMM,OAAO,GAAGC,OAAO,CACrBJ,gBAAgB,CAACK,IAAjB,CAAsBC,KADD,EAErBN,gBAAgB,CAACK,IAAjB,CAAsBE,OAFD,EAGrBb,IAHqB,CAAvB;AAMAH,IAAAA,QAAQ,CAAC;AACPiB,MAAAA,IAAI,EAAErB,QADC;AAEPgB,MAAAA;AAFO,KAAD,CAAR;AAID,GAZD,CAYE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAK,CAACE,OAApB;AACApB,IAAAA,QAAQ,CAAC;AAAEiB,MAAAA,IAAI,EAAEpB,OAAR;AAAiBe,MAAAA,OAAO,EAAE;AAAEM,QAAAA,KAAK,EAAEA,KAAK,CAACE,OAAN,IAAiBF;AAA1B;AAA1B,KAAD,CAAR;AACD;AACF,CA3BM","sourcesContent":["export const SET_DATA = \"SET_DATA\";\nexport const FAILURE = \"FAILURE\";\n\nexport const getData = (options) => async (dispatch) => {\n  const endpoint = \"//api.openweathermap.org/data/2.5/onecall\";\n\n  const { unit, lang, key, query } = options;\n  const params = {\n    appid: key,\n    lang,\n    units: unit,\n    query,\n  };\n\n  try {\n    const forecastResponse = await axios.get(endpoint, { params });\n    const payload = mapData(\n      forecastResponse.data.daily,\n      forecastResponse.data.current,\n      lang\n    );\n\n    dispatch({\n      type: SET_DATA,\n      payload,\n    });\n  } catch (error) {\n    console.error(error.message);\n    dispatch({ type: FAILURE, payload: { error: error.message || error } });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}